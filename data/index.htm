<!DOCTYPE HTML>
<html lang='en' dir='ltr'>
  <head>
    <meta content='text/html;charset=utf-8' http-equiv='Content-Type'>
    <meta content='utf-8' http-equiv='encoding'>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <meta name='HandheldFriendly' content='true' />
    <link rel='stylesheet' type='text/css' href='index.css' />
    </head>
  </head>
  <body>
    <h1>
      <span id='nodeName'>%UI8_NODE_NAME%</span> - Station IP: <span id='stationIp'>%STATION_IP%</span>
    </h1>
    <div class='boxes_state_setter'>
      <div class='setters_gp_title'>Net Commands</div>
      <div class='setters_group net_command_gp'>
        <button class='button' id='rebootLBs'>Reboot LBs</button><button class='button' id='rebootIF'>Reboot IF</button><button class='button' id='rebootAll'>Reboot All</button>
      </div>
      <div class='setters_group net_command_gp'>
        <button class='button' id='saveLBs'>Save LBs</button><button class='button' id='saveIF'>Save IF</button><button class='button' id='saveAll'>Save All</button>
      </div>
    </div>
    <div id='boxesContainer' class='boxes_state_setter'>
      <div id='boxTemplate' class='box_wrapper hidden' data-lb='0'>

        <div class='box_state_setter'><span class='box_num_title'>Laser Box <span class='box_num'>0</span></span>
          <div class='setters_gp_title'>Commands</div>
          <div class='setters_group command_gp'>
            <button id='rebootBox' class='button'>
              Reboot
            </button>&nbsp;
            <button id='rebootAndSaveBox' class='button'>
              Reb&S
            </button>&nbsp;
            <button id='savePrefsBox' class='button'>
              Save
            </button>&nbsp;
          </div> <!-- special_gp -->
          <div class='setters_gp_title'>Special</div>
          <div class='setters_group special_gp'>
            <button class='button' data-boxstate='0'>
              Manual
            </button>&nbsp;
            <button class='button' data-boxstate='1'>
              Align
            </button>&nbsp;
            <button class='button' data-boxstate='2'>
              IRStUp
            </button>&nbsp;
          </div> <!-- special_gp -->
          <div class='setters_gp_title'>Waiting</div>
          <div class='setters_group waiting_gp'>
            <button class='button' data-boxstate='3'>
              Both
            </button>&nbsp;
            <button class='button' data-boxstate='4'>
              IR
            </button>&nbsp;
            <button class='button' data-boxstate='5'>
              Mesh
            </button>&nbsp;
            <button class='button' data-boxstate='0'>
              None
            </button>&nbsp;
          </div> <!-- waiting_gp -->
          <div class='setters_gp_title'>IR High</div>
          <div class='setters_group pir_high_gp'>
            <button class='button' data-boxstate='6'>
              Both
            </button>&nbsp;
            <button class='button' data-boxstate='7'>
              IR
            </button>&nbsp;
            <button class='button' data-boxstate='8'>
              Mesh
            </button>&nbsp;
            <button class='button' data-boxstate='9'>
              None
            </button>&nbsp;
          </div> <!-- pir_high_gp -->
          <div class='setters_gp_title'>Mesh High</div>
          <div class='setters_group mesh_high_gp'>
            <button class='button' data-boxstate='10'>
              Both
            </button>&nbsp;
            <button class='button' data-boxstate='11'>
              IR
            </button>&nbsp;
            <button class='button' data-boxstate='12'>
              Mesh
            </button>&nbsp;
            <button class='button' data-boxstate='13'>
              None
            </button>&nbsp;
          </div> <!-- mesh_high_gp -->
        </div> <!-- box_state_setter -->

        <p>
        <div class='slave_master_box_setter'>Slave to <span class='master_box_number'>none</span>&nbsp;--&nbsp;Change master:&nbsp;
          <select class='master_select'>
            <option value='1'>201</option>
            <option value='2'>202</option>
            <option value='3'>203</option>
            <option value='4'>204</option>
            <option value='5'>205</option>
            <option value='6'>206</option>
            <option value='7'>207</option>
            <option value='8'>208</option>
            <option value='9'>209</option>
            <option value='10'>210</option>
            <option value='54'>None</option>
            <option value='55'>All</option>
          </select>
          <div class='slave_master_reaction_setter' data-defstate='iSlaveOnOffReaction'>Action onMesh():&nbsp;<span class='action_on_ms_change'></span>
            <select id='groupSequenceSelect'>
              <option value='0'>Untouchable</option>
              <option value='1'>Swipe Right</option>
              <option value='1'>Get Deeper</option>
            </select>

            <div class='sm-rel-descr hidden'>
              <ul class='sm-rel-title'>Safety Mode: Waiting Both Light On, Master: broadcast; IR High Turn Light Off Send Broadcast; Mesh High Quick Blinks
                <li>Special States: Manual --> Manual</li>
                <li>Special States: Align --> Manual</li>
                <li>Special States: IR Startup --> Manual</li>
                <li>
                  <ul>
                    <li>TO: All: Waiting Both (master: All), Light On</li>
                    <li>T1: One or two or all: IR High IR, Light Off --> the others: Mesh High Both, Light On</li>
                    <li>TEnd: Waiting Both, Light On</li>
                  </ul>
                </li>
              </ul>
              <p/>
              <ul class='sm-rel-title'>Swipe Right: Waiting Both Light Off Random Blinks, Master: broadcast; IR High Turn Light Off Send Broadcast; Mesh High Swipe Right
                <li>Special States: Manual --> Manual</li>
                <li>Special States: Align --> Manual</li>
                <li>Special States: IR Startup --> Manual</li>
                <li>
                  <ul>
                    <li>T0: All: Waiting Both (master: All), Light Off, shortly blinking now and then</li>
                    <li>T1: One or two or all: IR High IR, Light Off --> the others: Mesh High Both, Swipe Right</li>
                    <li>TEnd: Waiting Both, Light Off</li>
                  </ul>
                </li>
              </ul>
              <p/>
              <ul class='sm-rel-title'>Get Deeper: Waiting Both Light Off Random Blinks, Master: broadcast; IR High Turn Light Off Send Broadcast; Mesh High Swipe Right
                <li>Special States: Manual --> Manual</li>
                <li>Special States: Align --> Manual</li>
                <li>Special States: IR Startup --> Manual</li>
                <li>
                  <ul>
                    <li>T0: Event: no one is coming.
                      <ul>
                        <li>Master: Box 1: Waiting IR, Light On</li>
                        <li>Slave: Box 2: Waiting Mesh(from Master), light Off, onMesh: Waiting IR, Light On, Becomes Master</li>
                        <li>Slaves: Other Boxes: Waiting Mesh(from Master), light Off, onMesh: Mesh High Mesh(from new master), Swipe Right then turn Off, onMesh: Mesh High Mesh(from new master), Swipe Right then turn Off, etc.</li>
                      </ul>
                    </li>
                    <li>T1: Event: someone has come into Box 1 IR
                      <ul>
                        <li>Master: Box 2. Mesh High IR, Swipe Right</li>
                        <li>Slave: Box 1: IR High Both, Light Off, onIr: keep off, onMesh(from B2): Join the others</li>
                        <li>Slaves: The Others: Mesh High Mesh(from new master), Swipe Right then turn Off, onMesh (same as above).</li>
                      </ul>
                    </li>
                    <li>T2: Event: someone has come into Box 2 IR
                      <ul>
                        <li>Master: Box 3. Mesh High IR, Swipe Right</li>
                        <li>Slave: Box 2: IR High Both, Light Off, onIr: keep off, onMesh(from B3): Join the others</li>
                        <li>Slaves: The Others (including B1): Mesh High Mesh(from new master), Swipe Right then turn Off, onMesh (same as above).</li>
                      </ul>
                    </li>
                    <li>T3: Event: someone has come into Box 3 IR
                      <ul>
                        <li>Master: Box 4. Mesh High IR, Swipe Right</li>
                        <li>Slave: Box 3: IR High Both, Light Off, onIr: keep off, onMesh(from B3): Join the others</li>
                        <li>Slaves: The Others (including B1 and B2): Mesh High Mesh(from new master), Swipe Right then turn Off, onMesh (same as above).</li>
                      </ul>
                    </li>
                    <li>...</li>
                    <li>T Deepest: Event: someone has come into deepest Box X IR
                      <ul>
                        <li>Master: Box X - 1. Mesh High IR, Swipe Left</li>
                        <li>Slave: Box X: IR High Both, Light Off, onIr: keep off, onMesh(from B3): Join the others</li>
                        <li>Slaves: The Others: Mesh High Mesh(from new master), Swipe Left then turn Off, onMesh (same as above).</li>
                      </ul>
                    </li>
                    <li>T Deepest: Event: someone has come into Box X-1 IR
                      <ul>
                        <li>Master: Box X-2. Mesh High IR, Swipe Left</li>
                        <li>Slave: Box X-1: IR High Both, Light Off, onIr: keep off, onMesh(from B3): Join the others</li>
                        <li>Slaves: The Others: Mesh High Mesh(from new master), Swipe Left then turn Off, onMesh (same as above).</li>
                      </ul>
                    </li>
                    <li>...</li>
                    <li>T End: no one is in the IR anymore.
                      <ul>
                        <li>Master: Box 1: Waiting IR, Light On</li>
                        <li>Slave: Box 2: Waiting Mesh(from Master), light Off, onMesh: Waiting IR, Light On, Becomes Master</li>
                        <li>Slaves: Other Boxes: Waiting Mesh(from Master), light Off, onMesh: Mesh High Mesh(from new master), Swipe Right then turn Off, onMesh: Mesh High Mesh(from new master), Swipe Right then turn Off, etc.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>

        </div> <!-- slave_master_box_setter -->

        <div class='box_def_state_setter'>Default State
          <div class='setters_gp_title'>Waiting</div>
          <div class='setters_group waiting_gp'>
            <button class='button' data-boxDefstate='3'>
              Both
            </button>&nbsp;
            <button class='button' data-boxDefstate='4'>
              IR
            </button>&nbsp;
            <button class='button' data-boxDefstate='5'>
              Mesh
            </button>&nbsp;
            <button class='button' data-boxDefstate='0'>
              None
            </button>&nbsp;
          </div> <!-- waiting_gp -->
        </div> <!-- box_def_state_setter -->

        <div class='box_next_state_setter'>Next State
          <div class='setters_gp_title'>Waiting</div>
          <div class='setters_group waiting_gp'>
            <button class='button' data-boxNextstate='3'>
              Both
            </button>&nbsp;
            <button class='button' data-boxNextstate='4'>
              IR
            </button>&nbsp;
            <button class='button' data-boxNextstate='5'>
              Mesh
            </button>&nbsp;
            <button class='button' data-boxNextstate='0'>
              None
            </button>&nbsp;
          </div> <!-- waiting_gp -->
        </div> <!-- box_next_state_setter -->

        <div class='default_box_param_setter'>Box Default Values:&nbsp;
          <div data-blurb='gui8NodeName'>Node Name:&nbsp;<span></span><input type='text' ></div>
          <div data-blurb='gui8MyIndexInCBArray'>gui8MyIndexInCBArray:&nbsp;(calculated)</div>
          <div data-blurb='isInterface'>isInterface:&nbsp;
            <select id='isIFSelect'>
              <option value='0'>false</option>
              <option value='1'>true</option>
            </select>
          </div>

        </div> <!-- default_box_param_setter -->
    </div> <!-- box_wrapper -->
  </div> <!-- boxes_state_setter -->

  <div class='network_state_setter'>Network State Setters
    %NETWORK_SETTER%
    <ul>
      <li>gui32InterfaceNodeId (e.g. 2760139053): <span></span><input type='text' ></li>
      <li>gui8InterfaceNodeName (e.g. 201): <span></span><input type='text' ></li>
      <li>gui8ControllerBoxPrefix: <span></span><input type='text' ></li>
      <li>gui8InterfaceIndexInCBArray: <span></span></li>
      <li>gui8BoxesCount: <span></span><input type='text' ></li>
      <li>SSID: <span></span><input id='ssid' type='text' ></li>
      <li>Pass: <span></span><input id='pass' type='text' ></li>
      <li>Gateway IP: <span></span><input id='gatewayIP' type='text' ></li>
      <li>Gateway Port: <span></span><input id='ui16GatewayPort' type='text' ></li>
      <li>Wifi Channel: <span></span><input id='ui8WifiChannel' type='text' ></li>
    </ul>
  </div> <!-- network_state_setter -->

  <script src='index.js'></script>

  </body>
</html>
